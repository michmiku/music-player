{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\Desktop\\\\portfolio\\\\portfolio\\\\src\\\\components\\\\ListOfusers.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst ListOfUsers = () => {\n  const [users, setUsers] = useState({\n    listOfUsers: []\n  });\n  const [password, setPassword] = useState({\n    password: ''\n  });\n  useEffect(() => {\n    axios.get('http://localhost:5000/users').then(res => {\n      setUsers({\n        listOfUsers: res.data\n      });\n    }).catch(err => console.log(err));\n  });\n\n  const handleAdmin = user => {\n    console.log(user);\n    axios.post('http://localhost:5000/users/update', user).then(res => {}).catch(err => console.log(err));\n  };\n\n  const handleDelete = user => {\n    console.log(user._id);\n    axios.delete('http://localhost:5000/users/delete/' + user._id).then(res => {}).catch(err => console.log(err));\n  };\n\n  const handlePassword = (user, password) => {\n    console.log(user, password);\n    const newData = {\n      user,\n      password\n    };\n    axios.post('http://localhost:5000/users/update', newData).then(res => {}).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    class: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    class: \"thead-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, \"Admin\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    colspan: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, users.listOfUsers.map((user, key) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }, key), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary btn-sm \",\n    onClick: () => {\n      handleAdmin(user);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 33\n    }\n  }, String(user.admin))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, user.username), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    minLength: \"6\",\n    min: \"6\",\n    className: \"form-control w-25\",\n    placeholder: user.password,\n    onChange: e => {\n      {\n        setPassword(e.target.value);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary btn-sm mr-5\",\n    onClick: () => {\n      handlePassword(user, password);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 33\n    }\n  }, \"Change password\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary btn-sm \",\n    onClick: () => {\n      handleDelete(user);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  }, \"Delete user\")))))));\n};\n\nexport default ListOfUsers;","map":{"version":3,"sources":["C:/Users/micha/Desktop/portfolio/portfolio/src/components/ListOfusers.js"],"names":["React","useState","useEffect","axios","ListOfUsers","users","setUsers","listOfUsers","password","setPassword","get","then","res","data","catch","err","console","log","handleAdmin","user","post","handleDelete","_id","delete","handlePassword","newData","map","key","String","admin","username","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst ListOfUsers = () => {\r\n    const [users, setUsers] = useState({ listOfUsers: [] })\r\n    const [password, setPassword] = useState({ password: '' })\r\n    useEffect(() => {\r\n        axios.get('http://localhost:5000/users')\r\n            .then(res => {\r\n                setUsers({ listOfUsers: res.data })\r\n            })\r\n            .catch(err => console.log(err));\r\n    })\r\n    const handleAdmin = (user) => {\r\n        console.log(user)\r\n        axios.post('http://localhost:5000/users/update', user)\r\n            .then(res => {\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    const handleDelete = (user) => {\r\n        console.log(user._id)\r\n        axios.delete('http://localhost:5000/users/delete/' + user._id)\r\n            .then(res => {\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    const handlePassword = (user, password) => {\r\n        console.log(user, password)\r\n        const newData = { user, password }\r\n        axios.post('http://localhost:5000/users/update', newData)\r\n            .then(res => {\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    return (\r\n        <div>\r\n            <table class=\"table\">\r\n                <thead class=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Admin</th>\r\n                        <th scope=\"col\">Username</th>\r\n                        <th scope=\"col\">Password</th>\r\n                        <th scope=\"col\" colspan=\"2\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>{\r\n                    users.listOfUsers.map((user, key) => (\r\n                        <tr key={key}>\r\n                            <th scope=\"row\">{key}</th>\r\n                            <td><button type=\"button\" className=\"btn btn-secondary btn-sm \" onClick={() => { handleAdmin(user) }}>{String(user.admin)}</button></td>\r\n                            <td>{user.username}</td>\r\n                            <td><input type=\"text\"\r\n                                minLength=\"6\"\r\n                                min=\"6\"\r\n                                className=\"form-control w-25\"\r\n                                placeholder={user.password}\r\n                                onChange={(e) => {\r\n                                    {\r\n                                        setPassword(e.target.value)\r\n                                    }\r\n                                }}\r\n                            /></td>\r\n                            <td><button type=\"button\" className=\"btn btn-secondary btn-sm mr-5\" onClick={() => { handlePassword(user, password) }}>Change password</button></td>\r\n                            <td><button type=\"button\" className=\"btn btn-secondary btn-sm \" onClick={() => { handleDelete(user) }}>Delete user</button></td>\r\n                        </tr>\r\n                    ))}\r\n\r\n\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\nexport default ListOfUsers"]},"metadata":{},"sourceType":"module"}