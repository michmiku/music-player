{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\micha\\\\Desktop\\\\port\\\\portfolio\\\\portfolio\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import Settings from\"../Settings.json\";var ListOfUsers=function ListOfUsers(){var _useState=useState({listOfUsers:[]}),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState({password:''}),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];useEffect(function(){axios.get(Settings.server+'users').then(function(res){setUsers({listOfUsers:res.data});}).catch(function(err){return console.log(err);});});var handleAdmin=function handleAdmin(user){axios.post(Settings.server+'users/updateAdmin',user).then(function(res){}).catch(function(err){return console.log(err);});};var handleDelete=function handleDelete(user){axios.delete(Settings.server+'users/delete/'+user._id).then(function(res){}).catch(function(err){return console.log(err);});};var handlePassword=function handlePassword(user,password){var newData={user:user,password:password};axios.post(Settings.server+'users/updatePassword',newData).then(function(res){}).catch(function(err){return alert(\"Password is too short!\");});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"#\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Admin\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Username\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Password\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",colSpan:\"2\"}))),/*#__PURE__*/React.createElement(\"tbody\",null,users.listOfUsers.map(function(user,key){return/*#__PURE__*/React.createElement(\"tr\",{key:key},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\"},key),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary btn-sm \",onClick:function onClick(){handleAdmin(user);}},String(user.admin))),/*#__PURE__*/React.createElement(\"td\",null,user.username),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",minLength:\"6\",min:\"6\",className:\"form-control w-25\",placeholder:user.password,onChange:function onChange(e){{setPassword(e.target.value);}}})),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary btn-sm mr-5\",onClick:function onClick(){handlePassword(user,password);}},\"Change password\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-secondary btn-sm \",onClick:function onClick(){handleDelete(user);}},\"Delete user\")));}))));};export default ListOfUsers;","map":{"version":3,"sources":["C:/Users/micha/Desktop/port/portfolio/portfolio/src/components/ListOfusers.js"],"names":["React","useState","useEffect","axios","Settings","ListOfUsers","listOfUsers","users","setUsers","password","setPassword","get","server","then","res","data","catch","err","console","log","handleAdmin","user","post","handleDelete","delete","_id","handlePassword","newData","alert","map","key","String","admin","username","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Settings from \"../Settings.json\"\r\n\r\nconst ListOfUsers = () => {\r\n    const [users, setUsers] = useState({ listOfUsers: [] })\r\n    const [password, setPassword] = useState({ password: '' })\r\n    useEffect(() => {\r\n        axios.get(Settings.server + 'users')\r\n            .then(res => {\r\n                setUsers({ listOfUsers: res.data })\r\n            })\r\n            .catch(err => console.log(err));\r\n    })\r\n    const handleAdmin = (user) => {\r\n        axios.post(Settings.server + 'users/updateAdmin', user)\r\n            .then(res => {\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    const handleDelete = (user) => {\r\n        axios.delete(Settings.server + 'users/delete/' + user._id)\r\n            .then(res => {\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    const handlePassword = (user, password) => {\r\n        const newData = { user, password }\r\n        axios.post(Settings.server + 'users/updatePassword', newData)\r\n            .then(res => {\r\n            })\r\n            .catch(err => alert(\"Password is too short!\"));\r\n    }\r\n    return (\r\n        <div>\r\n            <table className=\"table\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Admin</th>\r\n                        <th scope=\"col\">Username</th>\r\n                        <th scope=\"col\">Password</th>\r\n                        <th scope=\"col\" colSpan=\"2\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>{\r\n                    users.listOfUsers.map((user, key) => (\r\n                        <tr key={key}>\r\n                            <th scope=\"row\">{key}</th>\r\n                            <td><button type=\"button\" className=\"btn btn-secondary btn-sm \" onClick={() => { handleAdmin(user) }}>{String(user.admin)}</button></td>\r\n                            <td>{user.username}</td>\r\n                            <td><input type=\"text\"\r\n                                minLength=\"6\"\r\n                                min=\"6\"\r\n                                className=\"form-control w-25\"\r\n                                placeholder={user.password}\r\n                                onChange={(e) => {\r\n                                    {\r\n                                        setPassword(e.target.value)\r\n                                    }\r\n                                }}\r\n                            /></td>\r\n                            <td><button type=\"button\" className=\"btn btn-secondary btn-sm mr-5\" onClick={() => { handlePassword(user, password) }}>Change password</button></td>\r\n                            <td><button type=\"button\" className=\"btn btn-secondary btn-sm \" onClick={() => { handleDelete(user) }}>Delete user</button></td>\r\n                        </tr>\r\n                    ))}\r\n\r\n\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\nexport default ListOfUsers"]},"metadata":{},"sourceType":"module"}