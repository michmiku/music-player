{"ast":null,"code":"import React,{useContext,useEffect}from'react';import{Link}from'react-router-dom';import{AuthenticatedUser}from\"../contexts/AuthenticatedUser.js\";var Navbar=function Navbar(props){var _useContext=useContext(AuthenticatedUser),authUser=_useContext.authUser,setAuthUser=_useContext.setAuthUser;var handleLogout=function handleLogout(){setAuthUser({username:null});localStorage.setItem('user',null);localStorage.setItem('admin',false);window.location=\"/#/\";};useEffect(function(){var user=localStorage.getItem('user');var admin=localStorage.getItem('admin');setAuthUser({username:user,admin:admin});console.log(authUser);},[]);return/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-light position-sticky sticky-top\"},/*#__PURE__*/React.createElement(\"a\",{className:\"navbar-brand text-white\",href:\"#\"},\"MM\"),/*#__PURE__*/React.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarText\",\"aria-controls\":\"navbarText\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",style:{backgroundColor:'rgb(82, 82, 82)'}},/*#__PURE__*/React.createElement(\"span\",{className:\"navbar-toggler-icon\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarText\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav mr-auto\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"nav-link text-white\",href:\"#\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/music\",className:\"nav-link text-white\",href:\"#\"},\"Music\"))),authUser.username===''||authUser.username==='null'||authUser.username===null?/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav  justify-content-end\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/login\",className:\"nav-link text-white\",href:\"#\"},\"Login\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/register\",className:\"nav-link text-white\",href:\"#\"},\"Register\"))):authUser.admin===false||authUser.admin==='false'?/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav justify-content-end\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\",onClick:function onClick(){handleLogout();}},/*#__PURE__*/React.createElement(Link,{to:\"/register\",className:\"nav-link text-white\",href:\"#\"},\"Logout\"))):/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav justify-content-end\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/listofusers\",className:\"nav-link text-white\",href:\"#\"},\"List of users\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\",onClick:function onClick(){handleLogout();}},/*#__PURE__*/React.createElement(Link,{to:\"/register\",className:\"nav-link text-white\",href:\"#\"},\"Logout\")))));};export default Navbar;","map":{"version":3,"sources":["C:/Users/micha/Desktop/port/portfolio/portfolio/src/components/Navbar.js"],"names":["React","useContext","useEffect","Link","AuthenticatedUser","Navbar","props","authUser","setAuthUser","handleLogout","username","localStorage","setItem","window","location","user","getItem","admin","console","log","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { AuthenticatedUser } from \"../contexts/AuthenticatedUser.js\"\r\n\r\nconst Navbar = (props) => {\r\n  const { authUser, setAuthUser } = useContext(AuthenticatedUser)\r\n  const handleLogout = () => {\r\n    setAuthUser({ username: null })\r\n    localStorage.setItem('user', null)\r\n    localStorage.setItem('admin', false)\r\n    window.location = \"/#/\"\r\n  }\r\n  useEffect(() => {\r\n    let user = localStorage.getItem('user')\r\n    let admin = localStorage.getItem('admin')\r\n    setAuthUser({ username: user, admin: admin })\r\n    console.log(authUser)\r\n  }, [])\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light position-sticky sticky-top\" >\r\n      <a className=\"navbar-brand text-white\" href=\"#\">MM</a>\r\n      <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarText\" aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\" style={{ backgroundColor: 'rgb(82, 82, 82)' }} >\r\n        <span className=\"navbar-toggler-icon\" ></span>\r\n      </button>\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarText\">\r\n\r\n        <ul className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link to=\"/\" className=\"nav-link text-white\" href=\"#\">Home</Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link to=\"/music\" className=\"nav-link text-white\" href=\"#\">Music</Link>\r\n          </li>\r\n        </ul>\r\n        {(authUser.username === '' || authUser.username === 'null' || authUser.username === null) ?\r\n          <ul className=\"navbar-nav  justify-content-end\">\r\n            <li className=\"nav-item\">\r\n              <Link to=\"/login\" className=\"nav-link text-white\" href=\"#\">Login</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link to=\"/register\" className=\"nav-link text-white\" href=\"#\">Register</Link>\r\n            </li>\r\n          </ul>\r\n          :\r\n          ((authUser.admin === false) || (authUser.admin === 'false')) ?\r\n            <ul className=\"navbar-nav justify-content-end\">\r\n              <li className=\"nav-item\" onClick={() => { handleLogout() }}>\r\n                <Link to=\"/register\" className=\"nav-link text-white\" href=\"#\">Logout</Link>\r\n              </li>\r\n            </ul> :\r\n            <ul className=\"navbar-nav justify-content-end\">\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/listofusers\" className=\"nav-link text-white\" href=\"#\">List of users</Link>\r\n              </li>\r\n              <li className=\"nav-item\" onClick={() => { handleLogout() }}>\r\n                <Link to=\"/register\" className=\"nav-link text-white\" href=\"#\">Logout</Link>\r\n              </li>\r\n            </ul>\r\n        }\r\n      </div>\r\n    </nav >\r\n\r\n\r\n  )\r\n}\r\nexport default Navbar"]},"metadata":{},"sourceType":"module"}