{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\Desktop\\\\port\\\\portfolio\\\\portfolio\\\\src\\\\components\\\\Music.js\";\nimport React, { useState, useContext, useEffect } from \"react\";\nimport { AuthenticatedUser } from \"../contexts/AuthenticatedUser.js\";\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport ReactAudioPlayer from 'react-audio-player';\n\nconst Music = () => {\n  const [musicList, setMusicList] = useState({\n    music: []\n  });\n  const [src, setSrc] = useState({\n    src: ''\n  });\n  const {\n    authUser,\n    setAuthUser\n  } = useContext(AuthenticatedUser);\n  useEffect(() => {\n    axios.get('http://localhost:5000/music/').then(res => {\n      setMusicList({\n        music: res.data\n      });\n    }).catch(err => console.log(err));\n  }, []);\n\n  const handlePlay = file => {\n    setSrc({\n      src: 'http://localhost:5000/music/' + file\n    });\n  };\n\n  useEffect(() => {\n    console.log(src);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, authUser.username != '' ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 33\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 33\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 33\n    }\n  }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 33\n    }\n  }))), musicList.music.map(({\n    file\n  }, key) => /*#__PURE__*/React.createElement(\"tbody\", {\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 37\n    }\n  }, key), /*#__PURE__*/React.createElement(\"td\", {\n    onClick: () => handlePlay(file),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 37\n    }\n  }, file), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 37\n    }\n  }, \"temp\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 37\n    }\n  }))))), /*#__PURE__*/React.createElement(ReactAudioPlayer, {\n    src: src.src,\n    autoPlay: true,\n    controls: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \"You are not logged in!\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, \"In order to browse and listen to music you need to either login to your account or create a new one.\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    className: \"btn btn-primary mr-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    className: \"btn btn-primary \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, \"Register\")));\n};\n\nexport default Music;","map":{"version":3,"sources":["C:/Users/micha/Desktop/port/portfolio/portfolio/src/components/Music.js"],"names":["React","useState","useContext","useEffect","AuthenticatedUser","Link","axios","ReactAudioPlayer","Music","musicList","setMusicList","music","src","setSrc","authUser","setAuthUser","get","then","res","data","catch","err","console","log","handlePlay","file","username","map","key"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { AuthenticatedUser } from \"../contexts/AuthenticatedUser.js\"\r\nimport { Link } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport ReactAudioPlayer from 'react-audio-player';\r\n\r\nconst Music = () => {\r\n    const [musicList, setMusicList] = useState({ music: [] })\r\n    const [src, setSrc] = useState({ src: '' })\r\n    const { authUser, setAuthUser } = useContext(AuthenticatedUser)\r\n    useEffect(() => {\r\n        axios.get('http://localhost:5000/music/')\r\n            .then(res => {\r\n                setMusicList({ music: res.data })\r\n\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, [])\r\n\r\n    const handlePlay = (file) => {\r\n        setSrc({ src: 'http://localhost:5000/music/' + file })\r\n    }\r\n    useEffect(() => {\r\n        console.log(src)\r\n    })\r\n    return (\r\n        <div>\r\n            {authUser.username != '' ?\r\n                <div>\r\n                    <table className=\"table table-dark\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th scope=\"col\">#</th>\r\n                                <th scope=\"col\">Title</th>\r\n                                <th scope=\"col\">Author</th>\r\n                                <th scope=\"col\"></th>\r\n                            </tr>\r\n                        </thead>\r\n                        {musicList.music.map(({ file }, key) => (\r\n                            <tbody key={key}>\r\n                                <tr>\r\n                                    <th scope=\"row\">{key}</th>\r\n                                    <td onClick={() => handlePlay(file)}>{file}</td>\r\n                                    <td>temp</td>\r\n                                    <td></td>\r\n                                </tr>\r\n                            </tbody>\r\n                        ))\r\n                        }\r\n                    </table>\r\n                    <ReactAudioPlayer\r\n                        src={src.src}\r\n                        autoPlay\r\n                        controls\r\n                    />\r\n                </div>\r\n                :\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">You are not logged in!</h5>\r\n                    <p className=\"card-text\">In order to browse and listen to music you need to either login to your account or create a new one.</p>\r\n                    <Link to=\"/login\" className=\"btn btn-primary mr-3 \">Login</Link>\r\n                    <Link to=\"/register\" className=\"btn btn-primary \">Register</Link>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;\r\n\r\n"]},"metadata":{},"sourceType":"module"}