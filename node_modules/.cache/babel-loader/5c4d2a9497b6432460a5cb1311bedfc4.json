{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\Desktop\\\\port\\\\portfolio\\\\portfolio\\\\src\\\\components\\\\MusicList.js\";\nimport React, { useRef, useEffect, useState } from \"react\";\nimport axios from 'axios';\n\nconst MusicList = ({\n  musicList,\n  handleTitleClick,\n  handlePlay,\n  handlePause,\n  isPlaying,\n  src,\n  authUser,\n  favoriteMusic,\n  setFavoriteMusic,\n  currentPlaylist,\n  myMusic,\n  setCurrentPlaylist\n}) => {\n  const [favorite, setFavorite] = useState([]);\n\n  const handleAddToFavorite = (file, title, artist) => {\n    axios.post('http://localhost:5000/music/add', {\n      authUser,\n      file,\n      title,\n      artist\n    }).then(res => {\n      console.log(\"added to favorite!\");\n      let temp = [...favoriteMusic, title];\n      setFavoriteMusic(temp);\n\n      if (myMusic) {\n        let newPlaylist = [];\n        temp.map(title => {\n          let temp2 = musicList.music.filter(music => music.title === title);\n          newPlaylist = [...temp, temp2[0]];\n        });\n        setCurrentPlaylist(newPlaylist);\n      }\n    }).catch(err => console.log(err));\n  };\n\n  const handleRemoveFromFavorite = title => {\n    let temp = favoriteMusic.filter(item => item != title);\n    axios.post('http://localhost:5000/music/delete', {\n      title,\n      authUser\n    }).then(res => {\n      console.log(res);\n    }).catch(err => console.log(err));\n    setFavoriteMusic(temp);\n\n    if (myMusic) {\n      let newPlaylist = [];\n      temp.map(title => {\n        let temp2 = musicList.music.filter(music => music.title === title);\n        newPlaylist = [...temp, temp2[0]];\n      });\n      setCurrentPlaylist(newPlaylist);\n    }\n  };\n\n  useEffect(() => {\n    let temp = [];\n    favoriteMusic.map(title => {\n      let temp2 = musicList.music.filter(music => music.title === title);\n      temp = [...temp, temp2[0]];\n    });\n    setFavorite(temp);\n  }, [musicList]);\n  useEffect(() => {\n    if (myMusic) {\n      setCurrentPlaylist(favorite);\n    }\n  }, [myMusic]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"music-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top-view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"Artist\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-clock fa-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }))), currentPlaylist.map(({\n    file,\n    title,\n    artist,\n    duration,\n    rawDuration\n  }, key) => src === 'http://localhost:5000/music/' + file ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"middle-view-selected\",\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => {\n      handleTitleClick(file, key, duration, rawDuration);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  }, key), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }, artist), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, duration)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"play-button-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, !(src === 'http://localhost:5000/music/' + file && isPlaying.playing) ? /*#__PURE__*/React.createElement(\"i\", {\n    onClick: () => {\n      handlePlay(file, key, duration, rawDuration);\n    },\n    className: \"far fa-play-circle fa-2x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    onClick: () => {\n      handlePause();\n    },\n    className: \"far fa-pause-circle fa-2x \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, !favoriteMusic.includes(title) ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-heart fa-lg pt-2\",\n    onClick: () => {\n      handleAddToFavorite(file, title, artist);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-ban fa-lg pt-2\",\n    onClick: () => {\n      handleRemoveFromFavorite(title);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 33\n    }\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"middle-view\",\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => {\n      handleTitleClick(file, key, duration, rawDuration);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 29\n    }\n  }, key), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, artist), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, duration)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"play-button-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, !(src === 'http://localhost:5000/music/' + file && isPlaying.playing) ? /*#__PURE__*/React.createElement(\"i\", {\n    onClick: () => {\n      handlePlay(file, key, duration, rawDuration);\n    },\n    className: \"far fa-play-circle fa-2x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    onClick: () => {\n      handlePause();\n    },\n    className: \"far fa-pause-circle fa-2x \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, !favoriteMusic.includes(title) ? /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-heart fa-lg pt-2\",\n    onClick: () => {\n      handleAddToFavorite(file, title, artist);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fas fa-ban fa-lg pt-2\",\n    onClick: () => {\n      handleRemoveFromFavorite(title);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  })))));\n};\n\nexport default MusicList;","map":{"version":3,"sources":["C:/Users/micha/Desktop/port/portfolio/portfolio/src/components/MusicList.js"],"names":["React","useRef","useEffect","useState","axios","MusicList","musicList","handleTitleClick","handlePlay","handlePause","isPlaying","src","authUser","favoriteMusic","setFavoriteMusic","currentPlaylist","myMusic","setCurrentPlaylist","favorite","setFavorite","handleAddToFavorite","file","title","artist","post","then","res","console","log","temp","newPlaylist","map","temp2","music","filter","catch","err","handleRemoveFromFavorite","item","duration","rawDuration","key","playing","includes"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\r\nimport axios from 'axios'\r\n\r\nconst MusicList = ({ musicList, handleTitleClick, handlePlay, handlePause, isPlaying, src, authUser, favoriteMusic, setFavoriteMusic, currentPlaylist, myMusic, setCurrentPlaylist }) => {\r\n    const [favorite, setFavorite] = useState([])\r\n    const handleAddToFavorite = (file, title, artist) => {\r\n        axios.post('http://localhost:5000/music/add', { authUser, file, title, artist })\r\n            .then(res => {\r\n                console.log(\"added to favorite!\")\r\n                let temp = [...favoriteMusic, title]\r\n                setFavoriteMusic(temp)\r\n                if (myMusic) {\r\n                    let newPlaylist = []\r\n                    temp.map((title) => {\r\n                        let temp2 = musicList.music.filter(music => music.title === title)\r\n                        newPlaylist = [...temp, temp2[0]]\r\n                    })\r\n                    setCurrentPlaylist(newPlaylist)\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n    }\r\n    const handleRemoveFromFavorite = (title) => {\r\n        let temp = favoriteMusic.filter(item => item != title)\r\n        axios.post('http://localhost:5000/music/delete', { title, authUser })\r\n            .then(res => {\r\n                console.log(res)\r\n            })\r\n            .catch(err => console.log(err));\r\n        setFavoriteMusic(temp)\r\n        if (myMusic) {\r\n            let newPlaylist = []\r\n            temp.map((title) => {\r\n                let temp2 = musicList.music.filter(music => music.title === title)\r\n                newPlaylist = [...temp, temp2[0]]\r\n            })\r\n            setCurrentPlaylist(newPlaylist)\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        let temp = []\r\n        favoriteMusic.map((title) => {\r\n            let temp2 = musicList.music.filter(music => music.title === title)\r\n            temp = [...temp, temp2[0]]\r\n        })\r\n        setFavorite(temp)\r\n    }, [musicList])\r\n    useEffect(() => {\r\n        if (myMusic) {\r\n            setCurrentPlaylist(favorite)\r\n        }\r\n    }, [myMusic])\r\n    return (\r\n        <div className=\"music-container\">\r\n            <div className=\"top-view\">\r\n                <div className=\"number\">#</div>\r\n                <div className=\"title\">Title</div>\r\n                <div className=\"author\">Artist</div>\r\n                <div className=\"time\">\r\n                    <i className=\"far fa-clock fa-lg\"></i>\r\n                </div>\r\n            </div>\r\n            {currentPlaylist.map(({ file, title, artist, duration, rawDuration }, key) => (\r\n                src === 'http://localhost:5000/music/' + file ?\r\n                    <div className=\"middle-view-selected\" key={key}>\r\n                        <div onClick={() => { handleTitleClick(file, key, duration, rawDuration) }}>\r\n                            <div className=\"number\">{key}</div>\r\n                            <div className=\"title\">{title}</div>\r\n                            <div className=\"author\">{artist}</div>\r\n                            <div className=\"time\">{duration}</div>\r\n                        </div>\r\n                        <div className=\"play-button-list\">\r\n                            {!((src === 'http://localhost:5000/music/' + file) && (isPlaying.playing)) ?\r\n                                <i onClick={() => { handlePlay(file, key, duration, rawDuration) }} className=\"far fa-play-circle fa-2x\"></i> :\r\n                                <i onClick={() => { handlePause() }} className=\"far fa-pause-circle fa-2x \"></i>\r\n                            }\r\n                        </div>\r\n                        <div className=\"heart\">\r\n                            {!favoriteMusic.includes(title) ?\r\n                                <i className=\"far fa-heart fa-lg pt-2\" onClick={() => { handleAddToFavorite(file, title, artist) }}></i> :\r\n                                <i class=\"fas fa-ban fa-lg pt-2\" onClick={() => { handleRemoveFromFavorite(title) }}></i>\r\n                            }\r\n                        </div>\r\n                    </div> :\r\n                    <div className=\"middle-view\" key={key}>\r\n                        <div onClick={() => { handleTitleClick(file, key, duration, rawDuration) }}>\r\n                            <div className=\"number\">{key}</div>\r\n                            <div className=\"title\" >{title}</div>\r\n                            <div className=\"author\">{artist}</div>\r\n                            <div className=\"time\">{duration}</div>\r\n                        </div>\r\n\r\n                        <div className=\"play-button-list\">\r\n                            {!((src === 'http://localhost:5000/music/' + file) && (isPlaying.playing)) ?\r\n                                <i onClick={() => { handlePlay(file, key, duration, rawDuration) }} className=\"far fa-play-circle fa-2x\"></i> :\r\n                                <i onClick={() => { handlePause() }} className=\"far fa-pause-circle fa-2x \"></i>\r\n                            }\r\n                        </div>\r\n                        <div className=\"heart\">\r\n                            {!favoriteMusic.includes(title) ?\r\n                                <i className=\"far fa-heart fa-lg pt-2\" onClick={() => { handleAddToFavorite(file, title, artist) }}></i> :\r\n                                <i class=\"fas fa-ban fa-lg pt-2\" onClick={() => { handleRemoveFromFavorite(title) }}></i>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n            ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MusicList;\r\n\r\n"]},"metadata":{},"sourceType":"module"}