{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\micha\\\\Desktop\\\\port\\\\portfolio\\\\portfolio\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import React,{useEffect}from\"react\";import axios from'axios';import Settings from\"../../Settings.json\";var MusicList=function MusicList(_ref){var musicList=_ref.musicList,handleTitleClick=_ref.handleTitleClick,handlePlay=_ref.handlePlay,handlePause=_ref.handlePause,isPlaying=_ref.isPlaying,src=_ref.src,authUser=_ref.authUser,favoriteMusic=_ref.favoriteMusic,setFavoriteMusic=_ref.setFavoriteMusic,currentPlaylist=_ref.currentPlaylist,myMusic=_ref.myMusic,setCurrentPlaylist=_ref.setCurrentPlaylist;var handleAddToFavorite=function handleAddToFavorite(file,title,artist){axios.post(Settings.server+'music/add',{authUser:authUser,file:file,title:title,artist:artist}).then(function(res){//console.log(\"added to favorite!\")\nvar newFavorite=[].concat(_toConsumableArray(favoriteMusic),[title]);setFavoriteMusic(newFavorite);}).catch(function(err){return console.log(err);});};var handleRemoveFromFavorite=function handleRemoveFromFavorite(title){var newFavorite=favoriteMusic.filter(function(item){return item!==title;});axios.post(Settings.server+'music/delete',{title:title,authUser:authUser}).then(function(res){setFavoriteMusic(newFavorite);}).catch(function(err){return console.log(err);});};useEffect(function(){var temp=[];favoriteMusic.map(function(title){var temp2=musicList.music.filter(function(music){return music.title===title;});temp=[].concat(_toConsumableArray(temp),[temp2[0]]);});if(myMusic){setCurrentPlaylist(temp);}},[myMusic,favoriteMusic]);return/*#__PURE__*/React.createElement(\"div\",{className:\"music-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"top-view\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},\"Title\"),/*#__PURE__*/React.createElement(\"div\",{className:\"author\"},\"Artist\"),/*#__PURE__*/React.createElement(\"div\",{className:\"time-clock\"},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-clock fa-lg\"}))),currentPlaylist.map(function(_ref2,key){var file=_ref2.file,title=_ref2.title,artist=_ref2.artist,duration=_ref2.duration,rawDuration=_ref2.rawDuration;return src===Settings.server+'music/'+file?/*#__PURE__*/React.createElement(\"div\",{className:\"middle-view-selected\",key:key},/*#__PURE__*/React.createElement(\"div\",{className:\"title\",onClick:function onClick(){handleTitleClick(file,key,duration,rawDuration);}},title),/*#__PURE__*/React.createElement(\"div\",{className:\"author\"},artist),/*#__PURE__*/React.createElement(\"div\",{className:\"time\"},duration),!favoriteMusic.includes(title)?/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-heart fa-lg  heart\",onClick:function onClick(){handleAddToFavorite(file,title,artist);}}):/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ban fa-lg  heart\",onClick:function onClick(){handleRemoveFromFavorite(title);}}),!(src===Settings.server+'music/'+file&&isPlaying.playing)?/*#__PURE__*/React.createElement(\"i\",{onClick:function onClick(){handlePlay(file,key,duration,rawDuration);},className:\"far fa-play-circle fa-2x play-button-list\"}):/*#__PURE__*/React.createElement(\"i\",{onClick:function onClick(){handlePause();},className:\"far fa-pause-circle fa-2x play-button-list\"})):/*#__PURE__*/React.createElement(\"div\",{className:\"middle-view\",key:key},/*#__PURE__*/React.createElement(\"div\",{className:\"title\",onClick:function onClick(){handleTitleClick(file,key,duration,rawDuration);}},title),/*#__PURE__*/React.createElement(\"div\",{className:\"author\"},artist),/*#__PURE__*/React.createElement(\"div\",{className:\"time\"},duration),!favoriteMusic.includes(title)?/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-heart fa-lg heart\",onClick:function onClick(){handleAddToFavorite(file,title,artist);}}):/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-ban fa-lg  heart\",onClick:function onClick(){handleRemoveFromFavorite(title);}}),!(src===Settings.server+'music/'+file&&isPlaying.playing)?/*#__PURE__*/React.createElement(\"i\",{onClick:function onClick(){handlePlay(file,key,duration,rawDuration);},className:\"far fa-play-circle fa-2x play-button-list\"}):/*#__PURE__*/React.createElement(\"i\",{onClick:function onClick(){handlePause();},className:\"far fa-pause-circle fa-2x play-button-list\"}));}));};export default MusicList;","map":{"version":3,"sources":["C:/Users/micha/Desktop/port/portfolio/portfolio/src/components/music-player/MusicList.js"],"names":["React","useEffect","axios","Settings","MusicList","musicList","handleTitleClick","handlePlay","handlePause","isPlaying","src","authUser","favoriteMusic","setFavoriteMusic","currentPlaylist","myMusic","setCurrentPlaylist","handleAddToFavorite","file","title","artist","post","server","then","res","newFavorite","catch","err","console","log","handleRemoveFromFavorite","filter","item","temp","map","temp2","music","key","duration","rawDuration","includes","playing"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport axios from 'axios'\r\nimport Settings from \"../../Settings.json\"\r\n\r\nconst MusicList = ({ musicList, handleTitleClick, handlePlay, handlePause, isPlaying, src, authUser, favoriteMusic, setFavoriteMusic, currentPlaylist, myMusic, setCurrentPlaylist }) => {\r\n    const handleAddToFavorite = (file, title, artist) => {\r\n        axios.post(Settings.server + 'music/add', { authUser, file, title, artist })\r\n            .then(res => {\r\n                //console.log(\"added to favorite!\")\r\n                let newFavorite = [...favoriteMusic, title]\r\n                setFavoriteMusic(newFavorite)\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    const handleRemoveFromFavorite = (title) => {\r\n        let newFavorite = favoriteMusic.filter(item => item !== title)\r\n        axios.post(Settings.server + 'music/delete', { title, authUser })\r\n            .then(res => {\r\n                setFavoriteMusic(newFavorite)\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    useEffect(() => {\r\n        let temp = []\r\n        favoriteMusic.map((title) => {\r\n            let temp2 = musicList.music.filter(music => music.title === title)\r\n            temp = [...temp, temp2[0]]\r\n        })\r\n        if (myMusic) {\r\n            setCurrentPlaylist(temp)\r\n        }\r\n    }, [myMusic, favoriteMusic])\r\n    return (\r\n        <div className=\"music-container\">\r\n            <div className=\"top-view\">\r\n                <div className=\"title\">Title</div>\r\n                <div className=\"author\">Artist</div>\r\n                <div className=\"time-clock\">\r\n                    <i className=\"far fa-clock fa-lg\"></i>\r\n                </div>\r\n            </div>\r\n            {currentPlaylist.map(({ file, title, artist, duration, rawDuration }, key) => (\r\n                src === Settings.server + 'music/' + file ?\r\n                    <div className=\"middle-view-selected\" key={key}>\r\n                        <div className=\"title\" onClick={() => { handleTitleClick(file, key, duration, rawDuration) }}>{title}</div>\r\n                        <div className=\"author\">{artist}</div>\r\n                        <div className=\"time\">{duration}</div>\r\n                        {!favoriteMusic.includes(title) ?\r\n                            <i className=\"far fa-heart fa-lg  heart\" onClick={() => { handleAddToFavorite(file, title, artist) }}></i> :\r\n                            <i className=\"fas fa-ban fa-lg  heart\" onClick={() => { handleRemoveFromFavorite(title) }}></i>\r\n                        }\r\n                        {!((src === Settings.server + 'music/' + file) && (isPlaying.playing)) ?\r\n                            <i onClick={() => { handlePlay(file, key, duration, rawDuration) }} className=\"far fa-play-circle fa-2x play-button-list\"></i> :\r\n                            <i onClick={() => { handlePause() }} className=\"far fa-pause-circle fa-2x play-button-list\" ></i>\r\n                        }\r\n                    </div> :\r\n                    <div className=\"middle-view\" key={key}>\r\n                        <div className=\"title\" onClick={() => { handleTitleClick(file, key, duration, rawDuration) }}>{title}</div>\r\n                        <div className=\"author\">{artist}</div>\r\n                        <div className=\"time\">{duration}</div>\r\n                        {!favoriteMusic.includes(title) ?\r\n                            <i className=\"far fa-heart fa-lg heart\" onClick={() => { handleAddToFavorite(file, title, artist) }}></i> :\r\n                            <i className=\"fas fa-ban fa-lg  heart\" onClick={() => { handleRemoveFromFavorite(title) }}></i>\r\n                        }\r\n                        {!((src === Settings.server + 'music/' + file) && (isPlaying.playing)) ?\r\n                            <i onClick={() => { handlePlay(file, key, duration, rawDuration) }} className=\"far fa-play-circle fa-2x play-button-list\" ></i> :\r\n                            <i onClick={() => { handlePause() }} className=\"far fa-pause-circle fa-2x play-button-list\"></i>\r\n                        }\r\n                    </div>\r\n            ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MusicList;\r\n\r\n"]},"metadata":{},"sourceType":"module"}