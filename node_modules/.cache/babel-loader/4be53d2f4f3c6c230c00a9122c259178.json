{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\Desktop\\\\port\\\\portfolio\\\\portfolio\\\\src\\\\components\\\\ListOfusers.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Settings from \"../Settings.json\";\n\nconst ListOfUsers = () => {\n  const [users, setUsers] = useState({\n    listOfUsers: []\n  });\n  const [password, setPassword] = useState('');\n  useEffect(() => {\n    axios.get(Settings.server + 'users').then(res => {\n      setUsers({\n        listOfUsers: res.data\n      });\n    }).catch(err => console.log(err));\n  });\n\n  const handleAdmin = user => {\n    axios.post(Settings.server + 'users/updateAdmin', user).then(res => {}).catch(err => console.log(err));\n  };\n\n  const handleDelete = user => {\n    axios.delete(Settings.server + 'users/delete/' + user._id).then(res => {}).catch(err => console.log(err));\n  };\n\n  const handlePassword = (user, password) => {\n    const newData = {\n      user,\n      password\n    };\n    axios.post(Settings.server + 'users/updatePassword', newData).then(res => {\n      alert(\"Password changed!\");\n      setPassword({\n        password: ''\n      });\n    }).catch(err => alert(\"Password is too short!\"));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"userlist-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"thead-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 25\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, \"Admin\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    colSpan: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, users.listOfUsers.map((user, key) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: key,\n    style: {\n      color: 'lightgrey'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"row\",\n    style: {\n      paddingTop: '22px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }, key), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingTop: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary btn-sm \",\n    onClick: () => {\n      handleAdmin(user);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 64\n    }\n  }, String(user.admin))), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingTop: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, user.username), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingTop: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    minLength: \"6\",\n    min: \"6\",\n    className: \"form-control w-25\",\n    value: password,\n    onChange: e => {\n      {\n        setPassword(e.target.value);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 64\n    }\n  })), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingTop: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary btn-sm mr-5\",\n    onClick: () => {\n      handlePassword(user, password);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 64\n    }\n  }, \"Change password\")), /*#__PURE__*/React.createElement(\"td\", {\n    style: {\n      paddingTop: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-secondary btn-sm \",\n    onClick: () => {\n      handleDelete(user);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 64\n    }\n  }, \"Delete user\")))))));\n};\n\nexport default ListOfUsers;","map":{"version":3,"sources":["C:/Users/micha/Desktop/port/portfolio/portfolio/src/components/ListOfusers.js"],"names":["React","useState","useEffect","axios","Settings","ListOfUsers","users","setUsers","listOfUsers","password","setPassword","get","server","then","res","data","catch","err","console","log","handleAdmin","user","post","handleDelete","delete","_id","handlePassword","newData","alert","map","key","color","paddingTop","String","admin","username","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Settings from \"../Settings.json\"\r\n\r\nconst ListOfUsers = () => {\r\n    const [users, setUsers] = useState({ listOfUsers: [] })\r\n    const [password, setPassword] = useState('')\r\n    useEffect(() => {\r\n        axios.get(Settings.server + 'users')\r\n            .then(res => {\r\n                setUsers({ listOfUsers: res.data })\r\n            })\r\n            .catch(err => console.log(err));\r\n    })\r\n    const handleAdmin = (user) => {\r\n        axios.post(Settings.server + 'users/updateAdmin', user)\r\n            .then(res => {\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    const handleDelete = (user) => {\r\n        axios.delete(Settings.server + 'users/delete/' + user._id)\r\n            .then(res => {\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    const handlePassword = (user, password) => {\r\n        const newData = { user, password }\r\n        axios.post(Settings.server + 'users/updatePassword', newData)\r\n            .then(res => {\r\n                alert(\"Password changed!\")\r\n                setPassword({ password: '' })\r\n            })\r\n            .catch(err => alert(\"Password is too short!\"));\r\n    }\r\n    return (\r\n        <div className=\"userlist-container\">\r\n            <table className=\"table\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\">#</th>\r\n                        <th scope=\"col\">Admin</th>\r\n                        <th scope=\"col\">Username</th>\r\n                        <th scope=\"col\">Password</th>\r\n                        <th scope=\"col\" colSpan=\"2\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>{\r\n                    users.listOfUsers.map((user, key) => (\r\n                        <tr key={key} style={{ color: 'lightgrey' }}>\r\n                            <th scope=\"row\" style={{ paddingTop: '22px' }}>{key}</th>\r\n                            <td style={{ paddingTop: '18px' }}><button type=\"button\" className=\"btn btn-secondary btn-sm \" onClick={() => { handleAdmin(user) }}>{String(user.admin)}</button></td>\r\n                            <td style={{ paddingTop: '20px' }}>{user.username}</td>\r\n                            <td style={{ paddingTop: '15px' }}><input type=\"text\"\r\n                                minLength=\"6\"\r\n                                min=\"6\"\r\n                                className=\"form-control w-25\"\r\n                                value={password}\r\n                                onChange={(e) => { { setPassword(e.target.value) } }}\r\n                            /></td>\r\n                            <td style={{ paddingTop: '15px' }}><button type=\"button\" className=\"btn btn-secondary btn-sm mr-5\" onClick={() => { handlePassword(user, password) }}>Change password</button></td>\r\n                            <td style={{ paddingTop: '15px' }}><button type=\"button\" className=\"btn btn-secondary btn-sm \" onClick={() => { handleDelete(user) }}>Delete user</button></td>\r\n                        </tr>\r\n                    ))}\r\n\r\n\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\nexport default ListOfUsers"]},"metadata":{},"sourceType":"module"}