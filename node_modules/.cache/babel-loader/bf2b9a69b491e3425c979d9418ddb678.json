{"ast":null,"code":"import React,{useContext,useEffect}from'react';import{Link}from'react-router-dom';import{AuthenticatedUser}from\"../contexts/AuthenticatedUser.js\";import Settings from\"../Settings.json\";var Navbar=function Navbar(props){var _useContext=useContext(AuthenticatedUser),authUser=_useContext.authUser,setAuthUser=_useContext.setAuthUser;var handleLogout=function handleLogout(){setAuthUser({username:''});localStorage.setItem('user','');localStorage.setItem('admin',false);};useEffect(function(){var user=localStorage.getItem('user');if(user===null){user='';}console.log(user);setAuthUser({username:user});},[]);return/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-secondary position-sticky sticky-top\"},/*#__PURE__*/React.createElement(\"a\",{className:\"navbar-brand text-white\",href:\"#\"},\"MM\"),/*#__PURE__*/React.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarText\",\"aria-controls\":\"navbarText\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},/*#__PURE__*/React.createElement(\"span\",{className:\"navbar-toggler-icon\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarText\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav mr-auto\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",className:\"nav-link text-white\",href:\"#\"},\"Home\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/music\",className:\"nav-link text-white\",href:\"#\"},\"Music\"))),authUser.username===''?/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav  justify-content-end\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/login\",className:\"nav-link text-white\",href:\"#\"},\"Login\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/register\",className:\"nav-link text-white\",href:\"#\"},\"Register\"))):!authUser.admin?/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav justify-content-end\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\",onClick:function onClick(){handleLogout();}},/*#__PURE__*/React.createElement(Link,{to:\"/register\",className:\"nav-link text-white\",href:\"#\"},\"Logout\"))):/*#__PURE__*/React.createElement(\"ul\",{className:\"navbar-nav justify-content-end\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(Link,{to:\"/listofusers\",className:\"nav-link text-white\",href:\"#\"},\"List of users\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\",onClick:function onClick(){handleLogout();}},/*#__PURE__*/React.createElement(Link,{to:\"/register\",className:\"nav-link text-white\",href:\"#\"},\"Logout\")))));};export default Navbar;","map":{"version":3,"sources":["C:/Users/micha/Desktop/port/portfolio/portfolio/src/components/Navbar.js"],"names":["React","useContext","useEffect","Link","AuthenticatedUser","Settings","Navbar","props","authUser","setAuthUser","handleLogout","username","localStorage","setItem","user","getItem","console","log","admin"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA6C,OAA7C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,iBAAT,KAAkC,kCAAlC,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,iBACUN,UAAU,CAACG,iBAAD,CADpB,CAChBI,QADgB,aAChBA,QADgB,CACNC,WADM,aACNA,WADM,CAExB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBD,WAAW,CAAC,CAAEE,QAAQ,CAAE,EAAZ,CAAD,CAAX,CACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6B,EAA7B,EACAD,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B,KAA9B,EACD,CAJD,CAKAX,SAAS,CAAC,UAAM,CACd,GAAIY,CAAAA,IAAI,CAAGF,YAAY,CAACG,OAAb,CAAqB,MAArB,CAAX,CACA,GAAID,IAAI,GAAK,IAAb,CAAmB,CACjBA,IAAI,CAAG,EAAP,CACD,CACDE,OAAO,CAACC,GAAR,CAAYH,IAAZ,EACAL,WAAW,CAAC,CAAEE,QAAQ,CAAEG,IAAZ,CAAD,CAAX,CACD,CAPQ,CAON,EAPM,CAAT,CAQA,mBACE,2BAAK,SAAS,CAAC,8EAAf,eACE,yBAAG,SAAS,CAAC,yBAAb,CAAuC,IAAI,CAAC,GAA5C,OADF,cAEE,8BAAQ,SAAS,CAAC,gBAAlB,CAAmC,IAAI,CAAC,QAAxC,CAAiD,cAAY,UAA7D,CAAwE,cAAY,aAApF,CAAkG,gBAAc,YAAhH,CAA6H,gBAAc,OAA3I,CAAmJ,aAAW,mBAA9J,eACE,4BAAM,SAAS,CAAC,qBAAhB,EADF,CAFF,cAKE,2BAAK,SAAS,CAAC,0BAAf,CAA0C,EAAE,CAAC,YAA7C,eAEE,0BAAI,SAAS,CAAC,oBAAd,eACE,0BAAI,SAAS,CAAC,UAAd,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,qBAAvB,CAA6C,IAAI,CAAC,GAAlD,SADF,CADF,cAIE,0BAAI,SAAS,CAAC,UAAd,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,SAAS,CAAC,qBAA5B,CAAkD,IAAI,CAAC,GAAvD,UADF,CAJF,CAFF,CAUGN,QAAQ,CAACG,QAAT,GAAsB,EAAtB,cACC,0BAAI,SAAS,CAAC,iCAAd,eACE,0BAAI,SAAS,CAAC,UAAd,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,CAAkB,SAAS,CAAC,qBAA5B,CAAkD,IAAI,CAAC,GAAvD,UADF,CADF,cAIE,0BAAI,SAAS,CAAC,UAAd,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,CAAqB,SAAS,CAAC,qBAA/B,CAAqD,IAAI,CAAC,GAA1D,aADF,CAJF,CADD,CAUC,CAACH,QAAQ,CAACU,KAAV,cACE,0BAAI,SAAS,CAAC,gCAAd,eACE,0BAAI,SAAS,CAAC,UAAd,CAAyB,OAAO,CAAE,kBAAM,CAAER,YAAY,GAAI,CAA1D,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,CAAqB,SAAS,CAAC,qBAA/B,CAAqD,IAAI,CAAC,GAA1D,WADF,CADF,CADF,cAME,0BAAI,SAAS,CAAC,gCAAd,eACE,0BAAI,SAAS,CAAC,UAAd,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,cAAT,CAAwB,SAAS,CAAC,qBAAlC,CAAwD,IAAI,CAAC,GAA7D,kBADF,CADF,cAIE,0BAAI,SAAS,CAAC,UAAd,CAAyB,OAAO,CAAE,kBAAM,CAAEA,YAAY,GAAI,CAA1D,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,CAAqB,SAAS,CAAC,qBAA/B,CAAqD,IAAI,CAAC,GAA1D,WADF,CAJF,CA1BN,CALF,CADF,CA8CD,CA7DD,CA8DA,cAAeJ,CAAAA,MAAf","sourcesContent":["import React, { useContext, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { AuthenticatedUser } from \"../contexts/AuthenticatedUser.js\"\r\nimport Settings from \"../Settings.json\"\r\nconst Navbar = (props) => {\r\n  const { authUser, setAuthUser } = useContext(AuthenticatedUser)\r\n  const handleLogout = () => {\r\n    setAuthUser({ username: '' })\r\n    localStorage.setItem('user', '')\r\n    localStorage.setItem('admin', false)\r\n  }\r\n  useEffect(() => {\r\n    let user = localStorage.getItem('user')\r\n    if (user === null) {\r\n      user = ''\r\n    }\r\n    console.log(user)\r\n    setAuthUser({ username: user })\r\n  }, [])\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-secondary position-sticky sticky-top\" >\r\n      <a className=\"navbar-brand text-white\" href=\"#\">MM</a>\r\n      <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarText\" aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarText\">\r\n\r\n        <ul className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link to=\"/\" className=\"nav-link text-white\" href=\"#\">Home</Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link to=\"/music\" className=\"nav-link text-white\" href=\"#\">Music</Link>\r\n          </li>\r\n        </ul>\r\n        {authUser.username === '' ?\r\n          <ul className=\"navbar-nav  justify-content-end\">\r\n            <li className=\"nav-item\">\r\n              <Link to=\"/login\" className=\"nav-link text-white\" href=\"#\">Login</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link to=\"/register\" className=\"nav-link text-white\" href=\"#\">Register</Link>\r\n            </li>\r\n          </ul>\r\n          :\r\n          !authUser.admin ?\r\n            <ul className=\"navbar-nav justify-content-end\">\r\n              <li className=\"nav-item\" onClick={() => { handleLogout() }}>\r\n                <Link to=\"/register\" className=\"nav-link text-white\" href=\"#\">Logout</Link>\r\n              </li>\r\n            </ul> :\r\n            <ul className=\"navbar-nav justify-content-end\">\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/listofusers\" className=\"nav-link text-white\" href=\"#\">List of users</Link>\r\n              </li>\r\n              <li className=\"nav-item\" onClick={() => { handleLogout() }}>\r\n                <Link to=\"/register\" className=\"nav-link text-white\" href=\"#\">Logout</Link>\r\n              </li>\r\n            </ul>\r\n        }\r\n      </div>\r\n    </nav >\r\n\r\n\r\n  )\r\n}\r\nexport default Navbar"]},"metadata":{},"sourceType":"module"}