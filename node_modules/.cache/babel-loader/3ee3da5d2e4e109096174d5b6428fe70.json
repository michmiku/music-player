{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\micha\\\\Desktop\\\\port\\\\portfolio\\\\portfolio\\\\src\\\\components\\\\MusicList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from 'axios';\nimport Settings from \"../Settings.json\";\n\nconst MusicList = ({\n  musicList,\n  handleTitleClick,\n  handlePlay,\n  handlePause,\n  isPlaying,\n  src,\n  authUser,\n  favoriteMusic,\n  setFavoriteMusic,\n  currentPlaylist,\n  myMusic,\n  setCurrentPlaylist\n}) => {\n  const [middleViewStyle, setMiddleViewStyle] = useState(\"middle-view-selected\");\n\n  const handleAddToFavorite = (file, title, artist) => {\n    axios.post(Settings.server + 'music/add', {\n      authUser,\n      file,\n      title,\n      artist\n    }).then(res => {\n      //console.log(\"added to favorite!\")\n      let newFavorite = [...favoriteMusic, title];\n      setFavoriteMusic(newFavorite);\n    }).catch(err => console.log(err));\n  };\n\n  const handleRemoveFromFavorite = title => {\n    let newFavorite = favoriteMusic.filter(item => item !== title);\n    axios.post(Settings.server + 'music/delete', {\n      title,\n      authUser\n    }).then(res => {\n      setFavoriteMusic(newFavorite);\n    }).catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    let temp = [];\n    favoriteMusic.map(title => {\n      let temp2 = musicList.music.filter(music => music.title === title);\n      temp = [...temp, temp2[0]];\n    });\n\n    if (myMusic) {\n      setCurrentPlaylist(temp);\n    }\n  }, [myMusic, favoriteMusic]);\n\n  const handleSetStyle = () => {};\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"music-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"top-view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, \"#\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"author\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, \"Artist\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-clock fa-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }))), currentPlaylist.map(({\n    file,\n    title,\n    artist,\n    duration,\n    rawDuration\n  }, key) => {\n    {\n      if (src === Settings.server + 'music/' + file) {\n        setMiddleViewStyle(\"middle-view-selected\");\n      } else {\n        setMiddleViewStyle(\"middle-view\");\n      }\n    }\n\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: \"middle-view-selected\",\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: () => {\n        handleTitleClick(file, key, duration, rawDuration);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"number\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }\n    }, key), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }\n    }, title), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"author\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, artist), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }, duration), !favoriteMusic.includes(title) ? /*#__PURE__*/React.createElement(\"i\", {\n      className: \"far fa-heart fa-lg pt-2 heart\",\n      onClick: () => {\n        handleAddToFavorite(file, title, artist);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-ban fa-lg pt-2 heart\",\n      onClick: () => {\n        handleRemoveFromFavorite(title);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }\n    }), !(src === Settings.server + 'music/' + file && isPlaying.playing) ? /*#__PURE__*/React.createElement(\"i\", {\n      onClick: () => {\n        handlePlay(file, key, duration, rawDuration);\n      },\n      className: \"far fa-play-circle fa-2x play-button-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 29\n      }\n    }) : /*#__PURE__*/React.createElement(\"i\", {\n      onClick: () => {\n        handlePause();\n      },\n      className: \"far fa-pause-circle fa-2x play-button-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    })));\n  }));\n};\n\nexport default MusicList;","map":{"version":3,"sources":["C:/Users/micha/Desktop/port/portfolio/portfolio/src/components/MusicList.js"],"names":["React","useEffect","useState","axios","Settings","MusicList","musicList","handleTitleClick","handlePlay","handlePause","isPlaying","src","authUser","favoriteMusic","setFavoriteMusic","currentPlaylist","myMusic","setCurrentPlaylist","middleViewStyle","setMiddleViewStyle","handleAddToFavorite","file","title","artist","post","server","then","res","newFavorite","catch","err","console","log","handleRemoveFromFavorite","filter","item","temp","map","temp2","music","handleSetStyle","duration","rawDuration","key","includes","playing"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from 'axios'\r\nimport Settings from \"../Settings.json\"\r\n\r\nconst MusicList = ({ musicList, handleTitleClick, handlePlay, handlePause, isPlaying, src, authUser, favoriteMusic, setFavoriteMusic, currentPlaylist, myMusic, setCurrentPlaylist }) => {\r\n    const [middleViewStyle, setMiddleViewStyle] = useState(\"middle-view-selected\")\r\n    const handleAddToFavorite = (file, title, artist) => {\r\n        axios.post(Settings.server + 'music/add', { authUser, file, title, artist })\r\n            .then(res => {\r\n                //console.log(\"added to favorite!\")\r\n                let newFavorite = [...favoriteMusic, title]\r\n                setFavoriteMusic(newFavorite)\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    const handleRemoveFromFavorite = (title) => {\r\n        let newFavorite = favoriteMusic.filter(item => item !== title)\r\n        axios.post(Settings.server + 'music/delete', { title, authUser })\r\n            .then(res => {\r\n                setFavoriteMusic(newFavorite)\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    useEffect(() => {\r\n        let temp = []\r\n        favoriteMusic.map((title) => {\r\n            let temp2 = musicList.music.filter(music => music.title === title)\r\n            temp = [...temp, temp2[0]]\r\n        })\r\n        if (myMusic) {\r\n            setCurrentPlaylist(temp)\r\n        }\r\n    }, [myMusic, favoriteMusic])\r\n    const handleSetStyle = () => {\r\n\r\n    }\r\n    return (\r\n        <div className=\"music-container\">\r\n            <div className=\"top-view\">\r\n                <div className=\"number\">#</div>\r\n                <div className=\"title\">Title</div>\r\n                <div className=\"author\">Artist</div>\r\n                <div className=\"time\">\r\n                    <i className=\"far fa-clock fa-lg\"></i>\r\n                </div>\r\n            </div>\r\n            {currentPlaylist.map(({ file, title, artist, duration, rawDuration }, key) => {\r\n                {\r\n                    if (src === Settings.server + 'music/' + file) {\r\n                        setMiddleViewStyle(\"middle-view-selected\")\r\n                    }\r\n                    else {\r\n                        setMiddleViewStyle(\"middle-view\")\r\n                    }\r\n                }\r\n                <div className=\"middle-view-selected\" key={key}>\r\n                    <div onClick={() => { handleTitleClick(file, key, duration, rawDuration) }}>\r\n                        <div className=\"number\">{key}</div>\r\n                        <div className=\"title\">{title}</div>\r\n                        <div className=\"author\">{artist}</div>\r\n                        <div className=\"time\">{duration}</div>\r\n                        {!favoriteMusic.includes(title) ?\r\n                            <i className=\"far fa-heart fa-lg pt-2 heart\" onClick={() => { handleAddToFavorite(file, title, artist) }}></i> :\r\n                            <i className=\"fas fa-ban fa-lg pt-2 heart\" onClick={() => { handleRemoveFromFavorite(title) }}></i>\r\n                        }\r\n                        {!((src === Settings.server + 'music/' + file) && (isPlaying.playing)) ?\r\n                            <i onClick={() => { handlePlay(file, key, duration, rawDuration) }} className=\"far fa-play-circle fa-2x play-button-list\"></i> :\r\n                            <i onClick={() => { handlePause() }} className=\"far fa-pause-circle fa-2x play-button-list\"></i>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MusicList;\r\n\r\n"]},"metadata":{},"sourceType":"module"}